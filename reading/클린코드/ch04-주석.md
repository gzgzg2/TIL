# 주석

### 주석은 나쁜 코드를 보완하지 못한다
- 잘 달린 주석은 어떤 정보보다 유용하지만, 경솔하고 근거없는 주석은 코드를 이해하기 어렵게 만든다
- 주석보단 프로그래밍 언어를 치밀하게 사용해서 의도를 표현하라
- 주석은 오래될수록 코드에서 멀어진다. 코드가 변경될 때마다 주석도 같이 변경되어야 한다
- 주석을 관리하기보단 주석이 필요없는 방향으로 프로그래밍 하여라
- 표현력이 깔끔하고 주석이 없는 코드가 복잡하고 어수선하며 주석이 많이달린 코드보다 훨씬 좋다.


### 코드로 의도를 표현하라
- 몇 초만 생각하면 코드로 대다수 의도를 표현할 수 있다. 주석으로 달려는 설명을 함수로 만들어 표현해도 충분하다.

```java

/* 주석으로 의도를 표현한 코드 */

// 직원에게 복지 혜텍을 받을 자격이 있는지 검사한다.
if ((employee.flags & HOURLY_FLAG) && (employee.age > 65))

/* 주석을 제거한 코드 */
if (employee.isEligibleForFullBenefits())

```

### 좋은 주석 (갠적인 생각으론 좋다기보단 합법적인 주석 ㅎ)
- 법적인 주석
    - 계약 조건이나 법적인 정보를 명시하는 경우
- 정보를 제공하는 주석
    - 주석이 함수에 대한 정보를 제공하는 경우 그래도 주석을 지우고 최대한 함수로 표현하는 것이 더 좋다.
- 저자의 의도가 드러나는 주석
- 의미를 명료하게 밝히는 주석
    - 모호한 인수나 반환값을 의미있는 주석으로 이해를 도울 때
- 결과를 경고하는 주석
    - 해당 함수의 실행시간이 매우 오래걸리거나 이슈 발생등의 이유로 경고하는 용도
- TODO 주석
    - 불필요한 TODO 주석은 지우는게 더 좋다.
- 중요성을 강조하는 주석

**내 생각**
애매하다. 정보를 제공하거나 의미, 의도를 표현한다고 해도 결국엔 앞서 설명한 것처럼 유지보수 대상이 되는 것은 똑같지 않을까? 법적인 주석과 경고하는 주석 외에는 나쁜 주석과의 경계가 모호한 것 같다.

### 나쁜 주석
- 주절거리는 주석
    - 특별한 이유 없이 의무감으로 작성한 주석
- 이해가 안되어 다른 모듈까지 뒤져야 하는 주석은 독자와 제대로 소통하지 못하는 주석이다
- 코드가 수행하는 내용을 그대로 주석에 옮긴 경우 (코드와 주석의 내용이 중복되는 경우)
- 오해할 여지가 있는 주석
    - 주석이 실제 코드의 실행과정과 미세하게 일치하지 않는 경우 독자가 주석만 읽고 지나치기 쉬움
- 있으나 마나한 주석
    - 당연한 내용을 설명하는 주석 예를 들어 기본생성자 위에 기본생성자를 소개하는 주석같은 것들
- 이력을 기록하는 주석
    - 과거에는 형상관리에 어려움이 있어 변경이력을 주석으로 명시하였지만, 지금은 필요없다. 오히려 코드를 지저분하게 만들 뿐
- 위치를 표시하는 주석
    - 특정 기능의 위치를 표시하는 주석 가끔은 이런 주석이 도움이 되지만 남발하는 것은 좋지않다
- 닫는 괄호에 다는 주석
    - for, if, while 닫는 괄호에 `//while` 과 같은 주석을 다는 경우
    - 대부분이 이런 경우는 중첩이 심하고 장황한 경우. 닫는 괄호에 주석을 달 생각보다 긴 함수를 줄일 생각을 하자
- 공로를 돌리거나 저자를 표시하는 주석
    - 소스 코드 관리 시스템은 누가 언제 무엇을 추가했는지 귀신처럼 기억한다. 저자를 표시하는 주석도 의미없다.
- 주석으로 처리한 코드
    - 위와 마찬가지로 소스 코드 관리 시스템에서 확인할 수 있다.
    - 주석된 코드는 다른 사람들이 지우기를 주저한다. 이유가 있어서 남겨놓았다고 생각할 수 있으니까 .. 질 나쁜 와인병 바닥에 앙금이 쌓이는 것과 같다.
        - 과거에는 유용했다. 형상관리가 불가능 했던 때에는
- HTML 주석
    - javadocs와 같은 도구로 주석을 뽑아 웹 페이지에 올릴 작정이라면 주석에 HTML 태그를 삽입하는 책임은 도구가 져야한다. 프로그래머가 아니라
- 전역정보
    - 주석을 달아야 한다면 근처에 있는 코드만 기술하라. 함수와 관련없는 다른 위치의 기능에 대한 주석은 혼란을 가져올 뿐이다.
- 너무 많은 정보
    - 관련없는 정보를 장황하게 늘어놓지 말아라.
- 모호한 관계
    - 주석과 코드 내용이 모호한 경우에는 주석 자체가 설명을 요구하는 상황이 될 수 있다.
- 함수 헤더
    - 짧은 함수는 긴 설명이 필요없다. 짧고 한 가지만 수행하고 이름을 잘 붙인 함수가 주석으로 헤더를 추가한 함수보다 좋다.
- 비공개 코드에서 javadocs
    - 공개 API는 javadocs가 유용하지만 공개하지 않을 코드라면 javadocs는 쓸모가 없다.

### 내 생각
개인적으로 좋은 주석은 찾기 힘들다고 생각한다. 법적인 경우, javadocs가 아니라면
모든 주석은 불필요하게 유지보수 대상만 늘어나게 하는 아주 나쁜 녀석들이라 생각한다.
함수에 주석으로 설명을 덧붙여야 한다면 그건 리팩토링 신호라고 받아들이기로 했다.


실제로 업무 중에 주석과 실제 함수의 역할이 다른 경우를 종종 보았다.
그리고 주석처리된 코드도.. 책 내용처럼 주석처리된 코드는 역할과 무관해보이더라도 지우기 망설여진다.