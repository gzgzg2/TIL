# 자바랭 다음으로 많이 쓰는 애들은 컬렉션 - Part3(Map)

## Map이란?
> Key-Value 쌍으로 이뤄진 자료구조. Map에선 키와 값이 1:1로 저장된다.  
> Key는 중복될 수 없다. 만약 동일한 Key로 값을 추가할 경우 기존의 값을 덮어쓰게 된다.  
> 키와 값 둘 중 하나라도 존재하지않으면 Map에 값을 추가할 수 없다. (null을 추가하는 것이 아닌 아예 값을 추가하지 않는 경우)


### Map과 HashTable의 차이
- Map은 Collection View를 사용하지만 HashTable은 Enumeration 객체를 통해서 데이터를 처리한다.
- Map은 키, 값, 키-값 쌍으로 데이터를 순환하여 처리할 수 있지만, HashTable은 이 중에서 키-값 쌍으로 데이터를 순환하여 처리할 수 없다.
- Map은 이터레이션을 처리하는 도중에 데이터를 삭제하는 안전한 방법을 제공하지만, HashTable은 그러한 기능을 제공하지 않는다.
- HashMap, TreeMap, LinkedHashMap 등은 Thread safe 하지 않다.
    - 이러한 클래스를 Thread Safe하게 사용하고 싶을 땐 Collection.synchronizedMap(new 맵 구현체);

## HashMap
| 인터페이스         | 용도                                                        |
|---------------|-----------------------------------------------------------|
| Serializable  | 원격으로 객체를 전송하거나 파일에 저장할 수 있음                               |
| Cloneable     | Object 클래스의 clone() 메소드가 제대로 수행될 수 있음을 지정, 복제가 가능한 객체임을 의미 |
| Map<E>        | 맵의 기본 메소드 지정                                              |

- HashMap의 키는 기본 자료형(WrapperType)과 참조 자료형 모두 사용할 수 있다.
- 직접 만든 클래스를 키로 지정하고 싶을 때는  `equals()`, `hashCode()` 메소드를 잘 구현해놓아야 한다.
- HashMap에 객체가 담기면 `hashCode()` 메소드의 결과 값에 따른 버켓이라는 목록 형태의 바구니가 만들어진다.
    - `hashCode()`의 결곽가 동일하다면 생성된 버킷에 여러 개의 값이 들어갈 수 있다.
    - 버킷에 여러 데이터가 존재할 경우 `equals()` 메소드를 호출하여 동일한 값을 찾게된다.

## TreeMap
> TreeMap은 키의 값을 기준으로 정렬하여 관리한다.  
> 정렬되는 기본적인 순서는 숫자 > 알파벳 대문자 > 알파벳 소문자 > 한글 순으로 정렬된다.  
> 정렬할 수 있는 타입이 아닐 경우 TreeMap을 사용하는 것이 무의미 할 수 있다.
- 대량의 데이터를 보관할 때는 TreeMap보다 HashMap을 사용하는 것이 성능상으로 유리하다.
- 그러나 100건, 1000건 정도의 데이터를 정렬하여 관리해야 한다면 TreeMap을 활용하는 것이 좋다.
- TreeMap이 키를 정렬하는 것은 SortedMap이라는 인터페이스를 구현했기 때문에 가능한 것이다.

### 해시 충돌
- 해시 충돌이란 해시 함수가 서로 다른 두 개의 입력 값에 대해 동일한 출력값을 내는 상황을 의미한다.
- 해시 충돌은 해시 함수를 이용한 자료구조나 알고리즘의 효율성을 떨어뜨린다.
- [해시 충돌](https://ko.wikipedia.org/wiki/%ED%95%B4%EC%8B%9C_%EC%B6%A9%EB%8F%8C)